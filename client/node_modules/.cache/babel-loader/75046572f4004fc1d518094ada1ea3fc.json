{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\zacka\\\\OneDrive\\\\Documents\\\\eecs647-project\\\\EECS647-FinalProject-MarketplaceSite\\\\src\\\\AddItem.js\",\n    _s = $RefreshSig$();\n\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { useState } from \"react\"; //import './AddItem.css'\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst AddItem = () => {\n  _s();\n\n  const {\n    username\n  } = useParams();\n  const [users, setUsers] = useState('');\n  const [product, setProduct] = useState('');\n  const [price, setPrice] = useState('');\n  const [image, setImage] = useState('');\n\n  const submitItem = () => {\n    var lastID = 0;\n    var url;\n    fetch('http://localhost:8000/users').then(response => response.json()).then(data => {\n      setUsers(data);\n    });\n    {\n      users && users.map(user => {\n        if (user.username === username) {\n          user.productID = lastID++;\n          user.name = product;\n          user.price = price;\n          user.quantity = 1;\n          url = 'http://localhost:8000/users/' + user.id;\n          fetch(url, {\n            method: 'PUT',\n            body: JSON.stringify(user, {\n              img: image\n            }),\n            headers: {\n              'Content-Type': 'application/json'\n            }\n          }).then(() => {\n            alert(\"Item added!\");\n            console.log(users); //maybe display something here\n          });\n        }\n\n        lastID = user.productID;\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"popup\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"popup-inner\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Please enter new item information\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Product Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          required: true,\n          value: product,\n          onChange: e => setProduct(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Price\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          required: true,\n          value: price,\n          onChange: e => setPrice(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Image URL\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          required: true,\n          value: image,\n          onChange: e => setImage(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onSubmit: submitItem,\n          children: \"Add Item\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 9\n  }, this);\n};\n\n_s(AddItem, \"wgr5/XJZuDdilWYWi/jBPxiebcE=\", false, function () {\n  return [useParams];\n});\n\n_c = AddItem;\nexport default AddItem;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddItem\");","map":{"version":3,"sources":["C:/Users/zacka/OneDrive/Documents/eecs647-project/EECS647-FinalProject-MarketplaceSite/src/AddItem.js"],"names":["useNavigate","useParams","useState","AddItem","username","users","setUsers","product","setProduct","price","setPrice","image","setImage","submitItem","lastID","url","fetch","then","response","json","data","map","user","productID","name","quantity","id","method","body","JSON","stringify","img","headers","alert","console","log","e","target","value"],"mappings":"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","sourcesContent":["\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\nimport { useState } from \"react\";\r\n//import './AddItem.css'\r\n\r\nconst AddItem = ()=> {\r\n    \r\n    const {username} = useParams()\r\n\r\n    const [users, setUsers] = useState('')\r\n    const [product, setProduct] = useState('')\r\n    const [price, setPrice] = useState('')\r\n    const [image, setImage] = useState('')\r\n\r\n    const submitItem = () => {\r\n        var lastID = 0\r\n        var url\r\n        fetch('http://localhost:8000/users').then(response => response.json()).then(data => {\r\n            setUsers(data);   \r\n        })\r\n        {users && users.map((user) => {\r\n            if(user.username === username){\r\n                user.productID = lastID++\r\n                user.name = product\r\n                user.price = price\r\n                user.quantity = 1\r\n                url = 'http://localhost:8000/users/' + user.id\r\n                fetch(url, {\r\n                method: 'PUT', \r\n                body: JSON.stringify(user, {img : image}),\r\n                headers: {'Content-Type': 'application/json'}\r\n            }).then(() => {\r\n                    alert(\"Item added!\")\r\n                    console.log(users); //maybe display something here\r\n                })\r\n            }\r\n            lastID = user.productID\r\n        })}\r\n    }\r\n\r\n    return (  \r\n        <div className=\"popup\">\r\n            <div className=\"popup-inner\">\r\n            <form>\r\n                <h1>Please enter new item information</h1>\r\n                <label>Product Name</label>\r\n                <input\r\n                type = \"text\"\r\n                required\r\n                value = {product}\r\n                onChange = {(e) => setProduct(e.target.value)}\r\n                >\r\n                </input>\r\n                <label>Price</label>\r\n                <input\r\n                type = \"text\"\r\n                required\r\n                value = {price}\r\n                onChange = {(e) => setPrice(e.target.value)}\r\n                >\r\n                </input>\r\n                <label>Image URL</label>\r\n                <input\r\n                type = \"text\"\r\n                required\r\n                value = {image}\r\n                onChange = {(e) => setImage(e.target.value)}\r\n                >\r\n                </input>\r\n                <button onSubmit = {submitItem}>Add Item</button>\r\n            </form>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n \r\nexport default AddItem;"]},"metadata":{},"sourceType":"module"}